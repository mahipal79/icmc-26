---
// AppHeader.astro
const links = [
  { name: "About", url: "/#about" },
  { name: "Speakers", url: "/#speakers" },
  { name: "Topics", url: "/#topics" },
  { name: "Authors Guidelines", url: "/#authors-guidelines" },
  { name: "Publications", url: "/#publication" },
  { name: "Committee", url: "/committee" }, // Already correct
  { name: "Important Dates", url: "/#important-dates" },
  { name: "Registration", url: "/#registration" },
  { name: "Proceedings", url: "/#proceedings" },
];

---

<nav class="bg-white sticky top-0 z-50 border-b border-gray-200 shadow-sm">
  <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <a href="/" class="flex items-center">
        <img src="/images/logos/GSFCU Logo.png" alt="GSFCU Logo" class="h-12 w-auto" />
      </a>

      <ul class="hidden lg:flex gap-8 text-[#06202B] text-sm font-medium">
        {links.map(link => (
          <li>
            <a href={link.url} class="hover:text-[#077A7D] transition-colors duration-200">
              {link.name}
            </a>
          </li>
        ))}
      </ul>

      <div class="lg:hidden">
        <button class="navbar-burger text-[#06202B] focus:outline-none">
          <svg class="h-6 w-6 fill-current" viewBox="0 0 20 20">
            <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <div class="navbar-menu fixed inset-0 z-50 bg-white transform -translate-x-full transition-transform duration-300 ease-in-out lg:hidden">
    <div class="flex justify-between items-center px-6 py-4 border-b">
      <a href="/">
        <img src="/images/logos/GSFCU Logo.png" class="h-10" alt="GSFCU Logo" />
      </a>
      <button class="navbar-close text-[#06202B]">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <ul class="px-6 py-4 space-y-2 text-sm font-medium text-[#06202B]">
      {links.map(link => (
        <li>
          <a href={link.url} class="block py-2 px-3 rounded hover:bg-gray-100 hover:text-[#077A7D] transition">
            {link.name}
          </a>
        </li>
      ))}
    </ul>
  </div>
</nav>

<script>
  // Only client-side interaction goes in here
  document.addEventListener('DOMContentLoaded', () => {
    const burger = document.querySelector('.navbar-burger');
    const menu = document.querySelector('.navbar-menu');
    const close = document.querySelector('.navbar-close');

    burger?.addEventListener('click', () => {
      menu?.classList.remove('-translate-x-full');
    });

    close?.addEventListener('click', () => {
      menu?.classList.add('-translate-x-full');
    });

   document.addEventListener('click', (e) => {
  const target = e.target as Node; // ðŸ‘ˆ Fix here
  if (!menu?.contains(target) && !burger?.contains(target)) {
    menu?.classList.add('-translate-x-full');
  }
});

  });
</script>
